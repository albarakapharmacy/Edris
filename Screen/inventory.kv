<InventoryScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10
        
        BoxLayout:
            size_hint_y: 0.1
            spacing: 10
            
            Button:
                text: 'إضافة دواء جديد'
                on_press: root.add_product()
                background_color: 0.2, 0.6, 0.8, 1
                
            Button:
                text: 'تصدير'
                on_press: root.export_data()
                background_color: 0.3, 0.7, 0.3, 1
                
            Button:
                text: 'لوحة التحكم'
                on_press: root.manager.current = 'dashboard'
                background_color: 0.8, 0.5, 0.2, 1
        
        ScrollView:
            RecycleView:
                id: products_rv
                viewclass: 'ProductRow'
                RecycleBoxLayout:
                    default_size: None, dp(80)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    spacing: dp(5)

<ProductRow@BoxLayout>:
    barcode: ''
    name: ''
    quantity: ''
    sale_price: ''
    
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(70)
    padding: dp(10)
    spacing: dp(10)
    
    canvas.before:
        Color:
            rgba: 0.9, 0.9, 0.9, 1
        Rectangle:
            pos: self.pos
            size: self.size
    
    Label:
        text: root.name
        halign: 'right'
        text_size: self.width, None
        size_hint_x: 0.4
        
    Label:
        text: root.quantity
        halign: 'center'
        size_hint_x: 0.2
        
    Label:
        text: root.sale_price
        halign: 'center'
        size_hint_x: 0.2
        
    Button:
        text: 'حذف'
        size_hint_x: 0.2
        background_color: 0.9, 0.3, 0.3, 1
        on_press: app.root.get_screen('inventory').delete_product(root.id)
